package com.dodam.service.board.missing;

import java.util.List;

import javax.inject.Inject;

import org.springframework.stereotype.Service;

import com.dodam.domain.missing.MissingBoardListDTO;
import com.dodam.domain.missing.MissingBoardVo;
import com.dodam.domain.missing.MissingWriteDTO;
import com.dodam.persistence.board.missing.MissingBoardDAO;

@Service
public class MissingBoardServiceImpl implements MissingBoardService{

	@Inject
	private MissingBoardDAO dao;

	@Override
	public List<MissingBoardListDTO> selectMissingBoardList() {
		 List<MissingBoardListDTO> lst = dao.selectMissingBoardList();
		 for(MissingBoardListDTO ld : lst) {
			 if(ld.getImg().length() > 1) {
				 ld.setImg(ld.getImg().split(",")[0]);
			 }
			 
			 if (ld.getGender().equals("M")) {
				 ld.setGender("수컷");
			 } else if (ld.getGender().equals("F")) {
				 ld.setGender("암컷");
			 } else {
				 ld.setGender("성별모름");
			 }
		 }
		 return lst;
	}

	@Override
	public MissingBoardVo getMissingBoard(int no) {
		return dao.getMissingBoard(no);
	}

	@Override
	public boolean insertBoard(MissingWriteDTO mw) {
		boolean result = false;
		if (dao.insertBoard(mw)==1) {
			result = true;
		}
		
		return result;
	}

	@Override
	public boolean deleteBoard(int no) {
		boolean result = false;
		if (dao.deleteBoard(no)==1) {
			result = true;
		}
		
		return result;
	}
	
	private String ConvertSystemSourcetoHtml(String str){
		 str = str.replace(/</g,"&lt;");
		 str = str.replace(/>/g,"&gt;");
		 str = str.replace(/\"/g,"&quot;");
		 str = str.replace(\'/g,"&#39;");
		 str = str.replace(/\n/g,"<br />");
		 return str;
		}
}
